<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<title>DirectOutput: Global Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="directoutputstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DirectOutputR3_Small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirectOutput
   </div>
   <div id="projectbrief">DirectOutput framework R3 for virtual pinball cabinets.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('globalconfig2.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Global Configuration </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__d_1_2a_2_direct_output_2_direct_output_2_documentation_220___global_config"></a></p>
<h1 class="doxsection"><a class="anchor" id="globalconfig_introduction"></a>
Introduction</h1>
<dl class="section note"><dt>Note</dt><dd>Global config settings have changed for release 2 of the <a class="el" href="namespace_direct_output.html">DirectOutput</a> framework. If you are upgrading to the new version, be sure to create a new global config file using the global config editor.</dd></dl>
<p>The global configuration of the <a class="el" href="namespace_direct_output.html">DirectOutput</a> framework defines which files the system loads for the Cabinet and Table configuration as well as the options for logging.</p>
<p>Depending on the interface used to communicate with the framework, different global configuration files are loaded.</p>
<p>For the B2S.Server Plugin the configuration file "GlobalConfig_B2SServer.xml" is loaded. The framework is searching for this file in the following locations:</p>
<ul>
<li>A directory named <em>config</em> withing the directory of the DirectOutput.dll.</li>
<li>A shortcut to a directory withing the directory of the DirectOutput.dll named <em>config</em>.</li>
<li>Table directory.</li>
<li>Directory of the DirectOutput.dll.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="globalconfig_editor"></a>
Global config editor</h1>
<p>In the directory where you have installed the <a class="el" href="namespace_direct_output.html">DirectOutput</a> framework, you can also find the global configuration editor (GlobalConfigEditor.exe).</p>
<p>This tool allows you to define the settings for the global configuration.</p>
<p>In the file menu you find the usual commands for loading and saving.</p>
<p>The editor has several tabs for the different aspects of the gobal config settings.</p>
<h2 class="doxsection"><a class="anchor" id="globalconfig_inifiles"></a>
Ini Files tab</h2>
<div class="image">
<img src="GlobalConfigEditor_IniFiles.png" alt=""/>
<div class="caption">
Ini Files tab</div></div>
<p>The ini files table contains the settings for ini files.</p>
<p>Usually DOF will try to find the ini files with the table configurations in one of the following directories:</p>
<ul>
<li>Directory of the table file</li>
<li>Global config directory</li>
<li>Directory where the DirectOutput.dll is located</li>
</ul>
<p>If you prefer to store your ini files in another directory, you'll have to enter the path to this directory in Ini Files Path textbox.</p>
<h2 class="doxsection"><a class="anchor" id="globalconfig_cabinetconfig"></a>
Cabinet Config tab</h2>
<div class="image">
<img src="GlobalConfigEditor_Cabinet.png" alt=""/>
<div class="caption">
Cabinet Config tab</div></div>
<p>The cabinet config tab allows you to specify the cabinet config file to be used.</p>
<p>If you use no cabinet config file (not needed if you just use one or several LedWiz, PacDrive or Pacled64 devices) keep this setting empty. If you have defined a cabinet config file, specify the name and path of your cabinet config file.</p>
<p>This setting supports wildcards (* represents any number of characters, ? represents one character). In addition the following placeholders are supported:</p>
<ul>
<li>{DllDir} represents the directory of the DirectOutput.dll.</li>
<li>{GlobalConfigDir} represents the default global config directory.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="globalconfig_logging"></a>
Logging tab</h2>
<div class="image">
<img src="GlobalConfigEditor_Logging.png" alt=""/>
<div class="caption">
Logging tab</div></div>
<p>DOF can write a log file in which information about the initialization and operation of the framework is recorded.</p>
<p>This tab allows you to turn on and off the logging, specify the name and path for your log file and whether you want to discard the logfile for every session (good to keep the log file small).</p>
<p>The following placeholders can be used in the path and filename for the logfile:</p>
<ul>
<li>{DllDir} represents the main <a class="el" href="namespace_direct_output.html">DirectOutput</a> install folder. <b>Deprecated:</b> use {InstallDir} instead. This dates back to the original "flat" install configuration, where the DLL files were installed directly in the main <a class="el" href="namespace_direct_output.html">DirectOutput</a> folder. Its name suggests that it's the DLL folder location, but it was actually used in most cases as the starting point for config file paths, so in the new 32/64-bit setup it points to the main folder rather than the actual DLL folder. This makes its name misleading, so it should no longer be used; the new variables {InstallDir} and {BinDir} should be used instead, since they let you distinguish between the two possibly different folders in the newer 32/64-bit install configuration.</li>
<li>{InstallDir} is the main <a class="el" href="namespace_direct_output.html">DirectOutput</a> install folder. In the newer 32/64-bit install setup, the DLLs are located in x86 and x64 subfolders of this main folder.</li>
<li>{BinDir} is the folder containing the currently executing DOF DLL (the program "**bin**ary" file). In the 32/64-bit install setup, this is the x86 or x64 subfolder of the main install folder.</li>
<li>{GlobalConfigDir} represents the default global config directory.</li>
<li>{TableDir} represents the full path to the directory of the table.</li>
<li>{TableDirName} represents the name of the table directory (last part of {TableDir}).</li>
<li>{TableName} represents the name of the table without extensions.</li>
<li>{RomName} is the name of the game rom.</li>
<li>{DateTime} is a timestamp containing the current date and type in the following form: yyyymmdd_hhmmss.</li>
<li>{Date} is the current date in the following form: yyyymmdd.</li>
<li>{Time} is the current time in the following form: hhmmss</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="globalconfig_misc"></a>
Misc tab</h2>
<div class="image">
<img src="GlobalConfigEditor_misc.png" alt=""/>
<div class="caption">
Misc tab</div></div>
<p>In the Misc tab you can change the default interval between commands which are sent to LedWiz units. For most installations 1ms should be just fine, but depending on the mainboard, usb hardware on the board, usb drivers and other factors the LedWiz does sometime tend to loose or misunderstand commands received if the are sent in to short intervals. This settings allows to increase the default minimum interval between commands from 1ms to a higher value. Higher values will make problems less likely, but decreases the number of possible updates of the ledwiz outputs in a given time frame. It is recommended to use the default interval of 1 ms and only to increase this interval if problems occur (Toys which are sometimes not reacting, random knocks of replay knocker or solenoids).</p>
<h1 class="doxsection"><a class="anchor" id="Log"></a>
file instrumentation</h1>
<p>The <span class="tt">&lt;Instrumentation&gt;</span> element lets you specify a list of "instrumentation keys", separated by commas. These are short strings that the DOF program code uses internally to identify certain low-level debugging messages that aren't needed during normal use, so they're normally excluded from the log, to avoid overly bloating the log file with unnecessary technical details that are normally only of interest to the developers while working on the code. However, it's sometimes useful to see some of those details when troubleshooting a problem, so the <span class="tt">&lt;Instrumentation&gt;</span> element lets you selectively enable specific ones. You should only need to add this to your config file if a developer advises you to do so, in which case they should also tell you exactly what strings to include here.</p>
<p>You can enable <b>all</b> of the low-level debug messages by setting this value to a single asterisk, <span class="tt">*</span>.</p>
<p>Since this setting is mostly for the developers' use, we won't provide a list of the available keys here (and such a list would quickly go out of date if we did provide one, since new keys are likely to be added fairly often). If you want the full list, search the source code for the string <span class="tt">Log.Instrumentation</span>.</p>
<h1 class="doxsection"><a class="anchor" id="globalconfig_fileformat"></a>
File format</h1>
<p>Global config files are save in xml format. A typical global config file might looks like this:</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div>
<div class="line"><span class="comment">&lt;!--Global configuration for the DirectOutput framework.--&gt;</span></div>
<div class="line"><span class="comment">&lt;!--Saved by DirectOutput Version 0.6.5218.23775: 2014-04-15 14-32-46--&gt;</span></div>
<div class="line">&lt;<span class="keywordtype">GlobalConfig</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LedControlMinimumEffectDurationMs</span>&gt;60&lt;/<span class="keywordtype">LedControlMinimumEffectDurationMs</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LedControlMinimumRGBEffectDurationMs</span>&gt;120&lt;/<span class="keywordtype">LedControlMinimumRGBEffectDurationMs</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">IniFilesPath</span>&gt;{<span class="keyword">DllDir</span>}\<span class="keyword">config</span>&lt;/<span class="keywordtype">IniFilesPath</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">CabinetConfigFilePattern</span>&gt;{<span class="keyword">DllDir</span>}\<span class="keyword">config</span>\<span class="keyword">cabinet.xml</span>&lt;/<span class="keywordtype">CabinetConfigFilePattern</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">EnableLogging</span>&gt;<span class="keyword">true</span>&lt;/<span class="keywordtype">EnableLogging</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">ClearLogOnSessionStart</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">ClearLogOnSessionStart</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">LogFilePattern</span>&gt;{<span class="keyword">DllDir</span>}\<span class="keyword">DirectOutput.log</span>&lt;/<span class="keywordtype">LogFilePattern</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Instrumentation</span>&gt;<span class="keyword">DudesCab</span>, <span class="keyword">LedWizDiscovery</span>&lt;/<span class="keywordtype">Instrumentation</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">GlobalConfig</span>&gt;</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for DirectOutput by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39987816-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>
