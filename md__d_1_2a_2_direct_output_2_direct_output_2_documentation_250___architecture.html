<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<title>DirectOutput: Architecture</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="directoutputstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DirectOutputR3_Small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirectOutput
   </div>
   <div id="projectbrief">DirectOutput framework R3 for virtual pinball cabinets.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__d_1_2a_2_direct_output_2_direct_output_2_documentation_250___architecture.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Architecture </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section warning"><dt>Warning</dt><dd>This page is not up to date! It was last updated in spring 2013.</dd></dl>
<h1 class="doxsection"><a class="anchor" id="architecture_objectmodel"></a>
Object model</h1>
<div class="image">
<img src="GlobalArchitecture.png" alt=""/>
<div class="caption">
Please check the docu on the classes for details on all class members and class descriptions.</div></div>
<p>The <a class="el" href="namespace_direct_output.html">DirectOutput</a> framework consist of 3 main areas:</p>
<ul>
<li><b>Table</b> where the events for changed table elements (e.g. a solenoid) from Pinmame are processed and if available the <em>effects</em> which are assigned to that table element are triggered. <em>Table</em> does also have a list of static <em>Effects</em> which are tiggered when the <em>Table</em> is initialized.</li>
<li><b>Cabinet</b> which represents the physical parts of a virtual pinball cabinet. <em>OutputControllers</em> represent units like the LedWiz. <em>Toys</em> represent the gadgets which are installed in a cabinet (e.g. contactors, RGB-leds or a shaker). <em>Toys</em> are controlled by <em>Effects</em> and will, if necessary, change the value of one or severel <em>Outputs</em> of <em>OutputControllers</em>.</li>
<li><b>Effects</b> are defining the actions for <em>Toys</em> in a <em>Cabinet</em>. <em>Effects</em> are triggered for events in <em>Table</em>.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="architecture_table"></a>
Table</h2>
<div class="image">
<img src="TableArchitecture.png" alt=""/>
<div class="caption">
Please check the docu on the classes for details on all class members and class descriptions.</div></div>
<h2 class="doxsection"><a class="anchor" id="architecture_effects"></a>
Effects</h2>
<div class="image">
<img src="EffectsArchitecture.png" alt=""/>
<div class="caption">
Please check the docu on the classes for details on all class members and class descriptions.</div></div>
<p>All <em>Effects</em> must implement the interface IEffect. <em>EffectBase</em> is a abstract base class for effect implementation. It is recommended to inherit from this class when implementing new effects.</p>
<p>More effects can be added to the framework by using scripts.</p>
<h2 class="doxsection"><a class="anchor" id="architecture_cabinet"></a>
Cabinet</h2>
<div class="image">
<img src="CabinetArchitecture.png" alt=""/>
<div class="caption">
Please check the docu on the classes for details on all class members and class descriptions.</div></div>
<h3 class="doxsection"><a class="anchor" id="architecture_toys"></a>
Toys</h3>
<div class="image">
<img src="ToyArchitecture.png" alt=""/>
<div class="caption">
Please check the docu on the classes for details on all class members and class descriptions.</div></div>
<p>All toys must implement the iToy interface to be usable in the framework. More toys can be added through scripting.</p>
<h3 class="doxsection"><a class="anchor" id="architecture_outputcontroller"></a>
Outputcontroller</h3>
<div class="image">
<img src="OutputControllerArchitecture.png" alt=""/>
<div class="caption">
Please check the docu on the classes for details on all class members and class descriptions.</div></div>
<h1 class="doxsection"><a class="anchor" id="architecture_multithreading"></a>
Multithreading</h1>
<p>This framework distributes its work over several threads to ensure that there are no (or at least very little) side effects and performance problems with the application calling the framework functions.</p>
<p>If the framework is called with new data from the outside (e.g. through B2S.Server), all it will do is to put the received data in a queue and notifiy the main loop thread. After that the independent mainloop thread will take care of the received data and take all necessary actions.</p>
<p>The LedWiz object does also use a separate thread for each connected LedWiz, to overcome the response time problems of the LedWiz.</p>
<p>Depending on the config you are using other threads might be active as well. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for DirectOutput by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39987816-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>
